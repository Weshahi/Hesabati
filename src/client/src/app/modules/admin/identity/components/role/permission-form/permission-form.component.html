<mat-spinner *ngIf="!permissions" diameter="40"></mat-spinner>
<div [hidden]="!permissions" style="height: auto;overflow:auto;">
  <div style="margin: 0 26px 0 16px">
    <div class="left">
      <a mat-raised-button color="accent">
        <mat-icon>update</mat-icon> Update Permission
      </a>
    </div>
    <div class="right">
      <div class="d-flex flex-end">
        <mat-form-field *ngFor="let filter of filterSelectObj" style="margin-left: 15px; margin-right: 15px;">
          <mat-label>Filter {{filter.name}}</mat-label>
          <mat-select name="{{filter.columnProp}}" [(ngModel)]="filter.modelValue"
            (selectionChange)="filterChange(filter,$event)">
            <mat-option value="">-- Select {{filter.name}} --</mat-option>
            <mat-option [value]="item" *ngFor="let item of filter.options">{{item}}</mat-option>
          </mat-select>
        </mat-form-field>
        &nbsp;
        <button mat-flat-button color="warn" (click)="resetFilters()">Reset</button>
      </div>
    </div>
  </div>
  <table mat-table [dataSource]="permissions && permissions" class="mat-elevation-z8">
   <ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef> Id </th>
    <td mat-cell *matCellDef="let claim"> {{claim.id}} </td>
  </ng-container>    
  <ng-container matColumnDef="type">
    <th mat-header-cell *matHeaderCellDef> Type </th>
    <td mat-cell *matCellDef="let claim"> {{claim.type}} </td>
  </ng-container>
  <ng-container matColumnDef="group">
    <th mat-header-cell *matHeaderCellDef> Group </th>
    <td mat-cell *matCellDef="let claim"> {{claim.group}} </td>
  </ng-container>
  <ng-container matColumnDef="value">
    <th mat-header-cell *matHeaderCellDef> Permission Name </th>
    <td mat-cell *matCellDef="let claim"> {{claim.value}} </td>
  </ng-container>
  <ng-container matColumnDef="description">
    <th mat-header-cell *matHeaderCellDef> Description </th>
    <td mat-cell *matCellDef="let claim"> {{claim.description}} </td>
  </ng-container>

    <ng-container matColumnDef="selected">
      <th mat-header-cell *matHeaderCellDef>
        <!-- <mat-checkbox (change)="$event ? masterToggle() : null"
                      [checked]="selection.hasValue() && isAllSelected()"
                      [indeterminate]="selection.hasValue() && !isAllSelected()">
        </mat-checkbox> -->
      </th>
      <td mat-cell *matCellDef="let claim">
        <mat-checkbox (click)="togglePermission(claim)"
        [checked]="claim.selected">
        </mat-checkbox>
      </td>
    </ng-container>
  
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"
        (click)="selection.toggle(row)">
    </tr>
  </table>

   
  </div>
  